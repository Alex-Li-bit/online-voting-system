<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Voting Results</title>
  <style>
    body { font-family: Arial; max-width:700px; margin:40px auto; padding:20px; }
    h1 { text-align:center; }
    .bar { height:28px; background:#4CAF50; color:white; padding-right:8px; text-align:right; border-radius:4px; margin-bottom:8px; }
    .label { margin-bottom:6px; font-weight:bold; }
  </style>
</head>
<body>
  <h1>Voting Results</h1>
  <div id="resultArea">Loading results...</div>

  <script>
    const stored = localStorage.getItem('votes');
    const votes = stored ? JSON.parse(stored) : {"JavaScript":0,"Python":0,"Java":0,"C++":0};

    function render() {
      const total = Object.values(votes).reduce((a,b)=>a+b,0);
      const area = document.getElementById('resultArea');
      area.innerHTML = '';
      for (const [k,v] of Object.entries(votes)) {
        const pct = total ? Math.round((v/total)*100) : 0;
        const label = document.createElement('div');
        label.className='label';
        label.textContent = `${k} â€” ${v} votes (${pct}%)`;
        const bar = document.createElement('div');
        bar.className='bar';
        bar.style.width = Math.max(pct,2) + '%';
        bar.textContent = pct + '%';
        area.appendChild(label);
        area.appendChild(bar);
      }
    }

    render();
  </script>
</body>
</html>